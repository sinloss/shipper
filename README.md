# Shipper ships binary files as a go source file

It is espically used for shipping dynamic libraries and executables which
needs to get restored to the local file system.

After intallation via `go get -u github.com/sinloss/shipper`, you could use
`shipper` to do the shipping.

The usage is as follows:
```
Usage: shipper [options] <dir> <dest-file> [includes-without-gzip] [-- <includes-with-gzip>]
  Includes are comma seperated file paths in `dir`, wildcards are supportted. If there are
  none comma seperated file paths given, all the files in `dir` will be included without gzip
  by default
Options:
  -p string
        Specify the package name for the generated go file (default "main")
  -t string
        Specify the build tags for the generated go file
  -v string
        Specify the variable name of map containing all the embeded files (default "A")
```

# For example

execute `shipper helloworld helloworld.go *o -- *.bar` or use go generate
```go
//go:generate go get -u github.com/sinloss/shipper
//go:generate go run github.com/sinloss/shipper helloworld helloworld.go *o -- *.bar
```
on the following files
```
 ┌───────────────────┬─────────┐
 │ FILESYSTEM        │ CONTENT │
 ├───────────────────┼─────────┤
 │ helloworld        │ <dir>   │
 │   ├─ hello        │ h       │
 │   └─ world        │ <dir>   │
 │        ├─ foo.bar │ f       │
 │        └─ bar.foo │ b       │
 └───────────────────┴─────────┘
```
would generate
```go
// Code generated by shipper; DO NOT EDIT.

package main

import (
	"github.com/sinloss/shipper/shipper"
)

// A is the Asset
var A = &shipper.Assets{

	"hello": shipper.Content{
		Gziped: false,
		Bytes:  []byte("\x68\x0d\x0a"),
	},
	"world/bar.foo": shipper.Content{
		Gziped: false,
		Bytes:  []byte("\x62\x0d\x0a"),
	},
	"world/foo.bar": shipper.Content{
		Gziped: true,
		Bytes:  []byte("\x1f\x8b\x08\x00\x00\x00\x00\x00\x00\xff\x4a\x53\xe0\xe5\x02\x04\x00\x00\xff\xff\x70\xa6\x3f\x52\x04\x00\x00\x00"),
	},
}
```
The file could be restored using it's facility function [Restore](https://github.com/sinloss/shipper/blob/c5c9c02a4d7d111a06136ab75bedbf16db955d42/shipper/facility.go#L20) or [RestoreAs](https://github.com/sinloss/shipper/blob/c5c9c02a4d7d111a06136ab75bedbf16db955d42/shipper/facility.go#L48)

# Gzip / UnGzip supported

Yes, supported.

# The generated file is simple

As simple as a map declaration. As all the functionality are defined as normal member functions (**see** */shipper/shipper/facility.go*) it could be easy to extend it's functionality in the future.